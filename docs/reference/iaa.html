<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Immediate Acceptance Algorithm (a.k.a. Boston mechanism) for two-sided matching markets — iaa • matchingMarkets</title>

<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.1/clipboard.min.js" integrity="sha256-hIvIxeqhGZF+VVeM55k0mJvWpQ6gTkWk3Emc+NmowYA=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Immediate Acceptance Algorithm (a.k.a. Boston mechanism) for two-sided matching markets — iaa" />

<meta property="og:description" content="Finds the optimal assignment of students to colleges in the
college admissions problem
based on the Boston mechanism. The algorithmen is also applicable to the stable marriage problem. The option acceptance=&quot;deferred&quot; instead uses the Gale-Shapley
(1962) Deferred Acceptance Algorithm with student offer. The function works with either
given or randomly generated preferences." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">matchingMarkets</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Immediate Acceptance Algorithm (a.k.a. Boston mechanism) for two-sided matching markets</h1>
    
    <div class="hidden name"><code>iaa.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Finds the optimal assignment of students to colleges in the
<a href='http://en.wikipedia.org/wiki/Hospital_resident'>college admissions</a> problem
based on the Boston mechanism. The algorithmen is also applicable to the stable marriage problem. The option <code>acceptance="deferred"</code> instead uses the Gale-Shapley
(1962) Deferred Acceptance Algorithm with student offer. The function works with either
given or randomly generated preferences.</p>
    
    </div>

    <pre class="usage"><span class='fu'>iaa</span>(<span class='kw'>nStudents</span> <span class='kw'>=</span> <span class='fu'>ncol</span>(<span class='no'>s.prefs</span>), <span class='kw'>nColleges</span> <span class='kw'>=</span> <span class='fu'>ncol</span>(<span class='no'>c.prefs</span>),
  <span class='kw'>nSlots</span> <span class='kw'>=</span> <span class='fu'>rep</span>(<span class='fl'>1</span>, <span class='no'>nColleges</span>), <span class='kw'>s.prefs</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>c.prefs</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>acceptance</span> <span class='kw'>=</span> <span class='st'>"immediate"</span>, <span class='kw'>short_match</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>123</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>nStudents</th>
      <td><p>integer indicating the number of students (in the college admissions problem)
or men (in the stable marriage problem) in the market. Defaults to <code>ncol(s.prefs)</code>.</p></td>
    </tr>
    <tr>
      <th>nColleges</th>
      <td><p>integer indicating the number of colleges (in the college admissions problem)
or women (in the stable marriage problem) in the market. Defaults to <code>ncol(c.prefs)</code>.</p></td>
    </tr>
    <tr>
      <th>nSlots</th>
      <td><p>vector of length <code>nColleges</code> indicating the number of places (i.e.
quota) of each college. Defaults to <code>rep(1,nColleges)</code> for the marriage problem.</p></td>
    </tr>
    <tr>
      <th>s.prefs</th>
      <td><p>matrix of dimension <code>nColleges</code> <code>x</code> <code>nStudents</code> with the <code>j</code>th
column containing student <code>j</code>'s ranking over colleges in decreasing order of
preference (i.e. most preferred first).</p></td>
    </tr>
    <tr>
      <th>c.prefs</th>
      <td><p>matrix of dimension <code>nStudents</code> <code>x</code> <code>nColleges</code> with the <code>i</code>th
column containing college <code>i</code>'s ranking over students in decreasing order of
preference (i.e. most preferred first).</p></td>
    </tr>
    <tr>
      <th>acceptance</th>
      <td><p>if <code>acceptance="deferred"</code> returns the solution found by the student-proposing Gale-Shapley deferred acceptance algorithm; if <code>acceptance="immediate"</code> (the default) returns the solution found by the Boston mechanism.</p></td>
    </tr>
    <tr>
      <th>short_match</th>
      <td><p>(Optional)  If <code>FALSE</code> then in the returned matching, free capacities will be indicated with 0 entries. If <code>TRUE</code>, free capacities will not be reported in the returned matching but an additonal data.frame is returned that contains free capacities. Defaults to <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>(Optional) integer setting the state for random number generation.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>iaa</code> returns a list with the following elements.</p>
<dt>s.prefs</dt><dd><p>student-side preference matrix.</p></dd>
<dt>c.prefs</dt><dd><p>college-side preference matrix.</p></dd>
<dt>iterations</dt><dd><p>number of interations required to find the stable matching.</p></dd>
<dt>matchings</dt><dd><p>edgelist of matches</p></dd>
<dt>singles</dt><dd><p>identifier of single (or unmatched) students/men.</p></dd>

    
    <h2 class="hasAnchor" id="minimum-required-arguments"><a class="anchor" href="#minimum-required-arguments"></a>Minimum required arguments</h2>

    
    <p><code>iaa</code> requires the following combination of arguments, subject to the matching problem.</p><dl class='dl-horizontal'>
<dt><code>nStudents, nColleges</code></dt><dd><p>Marriage problem with random preferences.</p></dd>
<dt><code>s.prefs, c.prefs</code></dt><dd><p>Marriage problem with given preferences.</p></dd>
<dt><code>nStudents, nSlots</code></dt><dd><p>College admissions problem with random preferences.</p></dd>
<dt><code>s.prefs, c.prefs, nSlots</code></dt><dd><p>College admissions problem with given preferences.</p></dd>
</dl>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Gale, D. and Shapley, L.S. (1962). College admissions and the stability
of marriage. <em>The American Mathematical Monthly</em>, 69(1):9--15.</p>
<p>Kojima, F. and M.U. Unver (2014). The "Boston" school-choice mechanism. <em>Economic Theory</em>, 55(3): 515--544.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## --------------------------------</span>
<span class='co'>## --- College admission problem</span>

<span class='no'>s.prefs</span> <span class='kw'>&lt;-</span> <span class='fu'>matrix</span>(<span class='fu'>c</span>(<span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>3</span>,
                    <span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>3</span>,
                    <span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>3</span>,
                    <span class='fl'>2</span>,<span class='fl'>1</span>,<span class='fl'>3</span>,
                    <span class='fl'>2</span>,<span class='fl'>1</span>,<span class='fl'>3</span>),
                  <span class='kw'>byrow</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>nrow</span> <span class='kw'>=</span> <span class='fl'>3</span>); <span class='no'>s.prefs</span></div><div class='output co'>#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]    1    1    1    2    2
#&gt; [2,]    2    2    2    1    1
#&gt; [3,]    3    3    3    3    3</div><div class='input'><span class='no'>c.prefs</span> <span class='kw'>&lt;-</span> <span class='fu'>matrix</span>(<span class='fu'>c</span>(<span class='fl'>1</span>,<span class='fl'>4</span>,<span class='fl'>2</span>,<span class='fl'>3</span>,<span class='fl'>5</span>,
                    <span class='fl'>5</span>,<span class='fl'>2</span>,<span class='fl'>3</span>,<span class='fl'>4</span>,<span class='fl'>1</span>,
                    <span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>3</span>,<span class='fl'>4</span>,<span class='fl'>5</span>),
                  <span class='kw'>byrow</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>nrow</span> <span class='kw'>=</span> <span class='fl'>5</span>); <span class='no'>c.prefs</span></div><div class='output co'>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    5    1
#&gt; [2,]    4    2    2
#&gt; [3,]    2    3    3
#&gt; [4,]    3    4    4
#&gt; [5,]    5    1    5</div><div class='input'><span class='no'>nSlots</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='fl'>2</span>,<span class='fl'>2</span>,<span class='fl'>1</span>)

<span class='co'>## Boston mechanism</span>
 <span class='fu'>iaa</span>(<span class='kw'>s.prefs</span> <span class='kw'>=</span> <span class='no'>s.prefs</span>, <span class='kw'>c.prefs</span> <span class='kw'>=</span> <span class='no'>c.prefs</span>, <span class='kw'>nSlots</span> <span class='kw'>=</span> <span class='no'>nSlots</span>)$<span class='no'>matchings</span></div><div class='output co'>#&gt;   college student
#&gt; 1       1       1
#&gt; 2       1       2
#&gt; 4       2       4
#&gt; 3       2       5
#&gt; 5       3       3</div><div class='input'>
<span class='co'>## Gale-Shapley algorithm</span>
 <span class='fu'>iaa</span>(<span class='kw'>s.prefs</span> <span class='kw'>=</span> <span class='no'>s.prefs</span>, <span class='kw'>c.prefs</span> <span class='kw'>=</span> <span class='no'>c.prefs</span>, <span class='kw'>nSlots</span> <span class='kw'>=</span> <span class='no'>nSlots</span>, <span class='kw'>acceptance</span><span class='kw'>=</span><span class='st'>"deferred"</span>)$<span class='no'>matchings</span></div><div class='output co'>#&gt;   college student
#&gt; 1       1       1
#&gt; 2       1       4
#&gt; 4       2       2
#&gt; 3       2       5
#&gt; 5       3       3</div><div class='input'>
<span class='co'>## Same results for the Gale-Shapley algorithm with hri2() function (but different format)</span>
 <span class='fu'>set.seed</span>(<span class='fl'>123</span>)
 <span class='fu'>iaa</span>(<span class='kw'>nStudents</span><span class='kw'>=</span><span class='fl'>7</span>, <span class='kw'>nSlots</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>3</span>,<span class='fl'>3</span>), <span class='kw'>acceptance</span><span class='kw'>=</span><span class='st'>"deferred"</span>)$<span class='no'>matchings</span></div><div class='output co'>#&gt;   college student
#&gt; 1       1       1
#&gt; 2       1       2
#&gt; 3       1       6
#&gt; 5       2       4
#&gt; 4       2       5
#&gt; 6       2       7</div><div class='input'> <span class='fu'>set.seed</span>(<span class='fl'>123</span>)
 <span class='fu'><a href='hri2.html'>hri2</a></span>(<span class='kw'>nStudents</span><span class='kw'>=</span><span class='fl'>7</span>, <span class='kw'>nSlots</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>3</span>,<span class='fl'>3</span>))$<span class='no'>matchings</span></div><div class='output co'>#&gt; <span class='message'>normal hri problem without couples</span></div><div class='output co'>#&gt;      student college
#&gt; [1,]       1       1
#&gt; [2,]       2       1
#&gt; [3,]       4       2
#&gt; [4,]       5       2
#&gt; [5,]       6       1
#&gt; [6,]       7       2</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#minimum-required-arguments">Minimum required arguments</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Thilo Klein

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Thilo Klein.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

