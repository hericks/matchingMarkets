<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Matching model and selection correction for college admissions — stabit2 • matchingMarkets</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Matching model and selection correction for college admissions — stabit2" />

<meta property="og:description" content="The function provides a Gibbs sampler for a structural matching model that 
estimates preferences and corrects for sample selection bias when the selection process 
is a two-sided matching game; i.e., a matching of students to colleges.
The structural model consists of a selection and an outcome equation. The Selection Equation 
determines which matches are observed (\(D=1\)) and which are not (\(D=0\)).
$$ \begin{array}{lcl}
       D &amp;amp;= &amp;amp; 1[V \in \Gamma] \\
       V &amp;amp;= &amp;amp; W\beta + \eta
       \end{array}
     $$
Here, \(V\) is a vector of latent valuations of all feasible matches, ie observed and 
unobserved, and \(1[.]\) is the Iverson bracket. 
A match is observed if its match valuation is in the set of valuations \(\Gamma\)
that satisfy the equilibrium condition (see Sorensen, 2007). 
The match valuation \(V\) is a linear function of \(W\), a matrix of characteristics for 
all feasible matches, and \(\eta\), a vector of random errors. \(\beta\) is a paramter 
vector to be estimated.
The Outcome Equation determines the outcome for observed matches. The dependent
variable can either be continuous or binary, dependent on the value of the binary
argument. In the binary case, the dependent variable \(R\) is determined by a threshold 
rule for the latent variable \(Y\).
$$ \begin{array}{lcl}
       R &amp;amp;= &amp;amp; 1[Y &amp;gt; c] \\
       Y &amp;amp;= &amp;amp; X\alpha + \epsilon
       \end{array}
     $$
Here, \(Y\) is a linear function of \(X\), a matrix of characteristics for observed 
matches, and \(\epsilon\), a vector of random errors. \(\alpha\) is a paramter vector to 
be estimated.
The structural model imposes a linear relationship between the error terms of both equations 
as \(\epsilon = \kappa\eta + \nu\), where \(\nu\) is a vector of random errors and \(\kappa\)
is the covariance paramter to be estimated. If \(\kappa\) were zero, the marginal distributions
of \(\epsilon\) and \(\eta\) would be independent and the selection problem would vanish.
That is, the observed outcomes would be a random sample from the population of interest." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">matchingMarkets</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Matching model and selection correction for college admissions</h1>
    
    <div class="hidden name"><code>stabit2.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>The function provides a Gibbs sampler for a structural matching model that 
estimates preferences and corrects for sample selection bias when the selection process 
is a two-sided matching game; i.e., a matching of students to colleges.</p>
<p>The structural model consists of a selection and an outcome equation. The <em>Selection Equation</em> 
determines which matches are observed (\(D=1\)) and which are not (\(D=0\)).
$$ \begin{array}{lcl}
       D &amp;= &amp; 1[V \in \Gamma] \\
       V &amp;= &amp; W\beta + \eta
       \end{array}
     $$
Here, \(V\) is a vector of latent valuations of <em>all feasible</em> matches, ie observed and 
unobserved, and \(1[.]\) is the Iverson bracket. 
A match is observed if its match valuation is in the set of valuations \(\Gamma\)
that satisfy the equilibrium condition (see Sorensen, 2007). 
The match valuation \(V\) is a linear function of \(W\), a matrix of characteristics for 
<em>all feasible</em> matches, and \(\eta\), a vector of random errors. \(\beta\) is a paramter 
vector to be estimated.</p>
<p>The <em>Outcome Equation</em> determines the outcome for <em>observed</em> matches. The dependent
variable can either be continuous or binary, dependent on the value of the <code>binary</code>
argument. In the binary case, the dependent variable \(R\) is determined by a threshold 
rule for the latent variable \(Y\).
$$ \begin{array}{lcl}
       R &amp;= &amp; 1[Y &gt; c] \\
       Y &amp;= &amp; X\alpha + \epsilon
       \end{array}
     $$
Here, \(Y\) is a linear function of \(X\), a matrix of characteristics for <em>observed</em> 
matches, and \(\epsilon\), a vector of random errors. \(\alpha\) is a paramter vector to 
be estimated.</p>
<p>The structural model imposes a linear relationship between the error terms of both equations 
as \(\epsilon = \kappa\eta + \nu\), where \(\nu\) is a vector of random errors and \(\kappa\)
is the covariance paramter to be estimated. If \(\kappa\) were zero, the marginal distributions
of \(\epsilon\) and \(\eta\) would be independent and the selection problem would vanish.
That is, the observed outcomes would be a random sample from the population of interest.</p>
    
    </div>

    <pre class="usage"><span class='fu'>stabit2</span>(<span class='kw'>OUT</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>SEL</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>colleges</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>students</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>outcome</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>selection</span>, <span class='kw'>binary</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>niter</span>, <span class='kw'>gPrior</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>censored</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>thin</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>nCores</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Extremes'>max</a></span>(<span class='fl'>1</span>, <span class='fu'>detectCores</span>() - <span class='fl'>1</span>), <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>OUT</th>
      <td><p>data frame with characteristics of all observed matches, including
market identifier <code>m.id</code>, college identifier <code>c.id</code> and student identifier <code>s.id</code>.</p></td>
    </tr>
    <tr>
      <th>SEL</th>
      <td><p>optional: data frame with characteristics of all observed and unobserved matches, including 
market identifier <code>m.id</code>, college identifier <code>c.id</code> and student identifier <code>s.id</code>.</p></td>
    </tr>
    <tr>
      <th>colleges</th>
      <td><p>character vector of variable names for college characteristics. These variables carry the same value for any college.</p></td>
    </tr>
    <tr>
      <th>students</th>
      <td><p>character vector of variable names for student characteristics. These variables carry the same value for any student.</p></td>
    </tr>
    <tr>
      <th>outcome</th>
      <td><p>formula for match outcomes.</p></td>
    </tr>
    <tr>
      <th>selection</th>
      <td><p>formula for match valuations.</p></td>
    </tr>
    <tr>
      <th>binary</th>
      <td><p>logical: if <code>TRUE</code> outcome variable is taken to be binary; if <code>FALSE</code> outcome variable is taken to be continuous.</p></td>
    </tr>
    <tr>
      <th>niter</th>
      <td><p>number of iterations to use for the Gibbs sampler.</p></td>
    </tr>
    <tr>
      <th>gPrior</th>
      <td><p>logical: if <code>TRUE</code> the g-prior (Zellner, 1986) is used for the variance-covariance matrix. (Not yet implemented)</p></td>
    </tr>
    <tr>
      <th>censored</th>
      <td><p>draws of the <code>kappa</code> parameter that estimates the covariation between the error terms in selection and outcome equation are 0:not censored, 1:censored from below, 2:censored from above.</p></td>
    </tr>
    <tr>
      <th>thin</th>
      <td><p>integer indicating the level of thinning in the MCMC draws. The default <code>thin=1</code> saves every draw, <code>thin=2</code> every second, etc.</p></td>
    </tr>
    <tr>
      <th>nCores</th>
      <td><p>number of cores to be used in parallel Gibbs sampling.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Sorensen, M. (2007). How Smart is Smart Money? A Two-Sided Matching Model of Venture Capital.
<em>Journal of Finance</em>, 62 (6): 2725-2762.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>##\dontrun{</span>
<span class='co'>## --- SIMULATED EXAMPLE ---</span>

<span class='co'>## 1. Simulate two-sided matching data for 20 markets (m=20) with 100 students</span>
<span class='co'>##    (nStudents=100) per market and 20 colleges with quotas of 5 students, each</span>
<span class='co'>##    (nSlots=rep(5,20)). True parameters in selection and outcome equations are </span>
<span class='co'>##    all equal to 1.</span>

<span class='no'>xdata</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stabsim2.html'>stabsim2</a></span>(<span class='kw'>m</span><span class='kw'>=</span><span class='fl'>20</span>, <span class='kw'>nStudents</span><span class='kw'>=</span><span class='fl'>100</span>, <span class='kw'>nSlots</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='fl'>5</span>,<span class='fl'>20</span>), <span class='kw'>verbose</span><span class='kw'>=</span><span class='fl'>FALSE</span>,
  <span class='kw'>colleges</span> <span class='kw'>=</span> <span class='st'>"c1"</span>, <span class='kw'>students</span> <span class='kw'>=</span> <span class='st'>"s1"</span>,
  <span class='kw'>outcome</span> <span class='kw'>=</span> ~ <span class='no'>c1</span>:<span class='no'>s1</span> + <span class='no'>eta</span> + <span class='no'>nu</span>,
  <span class='kw'>selection</span> <span class='kw'>=</span> ~ -<span class='fl'>1</span> + <span class='no'>c1</span>:<span class='no'>s1</span> + <span class='no'>eta</span>
)</div><div class='output co'>#&gt; Generating data for 20 matching markets... </div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='no'>xdata</span>$<span class='no'>OUT</span>)</div><div class='output co'>#&gt;   m.id        y (Intercept)      eta         nu       c1:s1         c1
#&gt; 1    1 4.043161           1 1.843862  1.0241395  0.17515964 -0.3963161
#&gt; 2    1 4.252354           1 3.241040 -0.2741297  0.28544335 -0.3963161
#&gt; 3    1 1.837553           1 2.128452 -1.4896441  0.19874488 -0.3963161
#&gt; 4    1 4.400099           1 1.997213  1.2346701  0.16821544 -0.3963161
#&gt; 5    1 5.679860           1 2.198810  2.2819670  0.19908279 -0.3963161
#&gt; 6    1 1.889756           1 1.955294 -1.0164562 -0.04908123 -0.1627601
#&gt;           s1 c.id s.id
#&gt; 1 -0.4419695    1    5
#&gt; 2 -0.7202416    1   44
#&gt; 3 -0.5014807    1   54
#&gt; 4 -0.4244476    1   76
#&gt; 5 -0.5023333    1   81
#&gt; 6  0.3015557    2   11</div><div class='input'>

<span class='co'>## 2. Correction for sorting bias when match valuations V are observed</span>

<span class='co'>## 2-a. Bias from sorting</span>
 <span class='no'>lm1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/lm'>lm</a></span>(<span class='no'>y</span> ~ <span class='no'>c1</span>:<span class='no'>s1</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>xdata</span>$<span class='no'>OUT</span>)
 <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/summary'>summary</a></span>(<span class='no'>lm1</span>)</div><div class='output co'>#&gt; 
#&gt; Call:
#&gt; lm(formula = y ~ c1:s1, data = xdata$OUT)
#&gt; 
#&gt; Residuals:
#&gt;     Min      1Q  Median      3Q     Max 
#&gt; -5.1032 -0.8373  0.0570  0.8745  3.2334 
#&gt; 
#&gt; Coefficients:
#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    
#&gt; (Intercept)  2.69375    0.03142   85.75   &lt;2e-16 ***
#&gt; c1:s1        0.75852    0.04717   16.08   &lt;2e-16 ***
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; 
#&gt; Residual standard error: 1.248 on 1998 degrees of freedom
#&gt; Multiple R-squared:  0.1146,	Adjusted R-squared:  0.1141 
#&gt; F-statistic: 258.6 on 1 and 1998 DF,  p-value: &lt; 2.2e-16
#&gt; </div><div class='input'>
<span class='co'>## 2-b. Cause of the bias</span>
 <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/with'>with</a></span>(<span class='no'>xdata</span>$<span class='no'>OUT</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/cor'>cor</a></span>(<span class='no'>c1</span>*<span class='no'>s1</span>, <span class='no'>eta</span>))</div><div class='output co'>#&gt; [1] -0.2062932</div><div class='input'>
<span class='co'>## 2-c. Correction for sorting bias</span>
 <span class='no'>lm2a</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/lm'>lm</a></span>(<span class='no'>V</span> ~ -<span class='fl'>1</span> + <span class='no'>c1</span>:<span class='no'>s1</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>xdata</span>$<span class='no'>SEL</span>); <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/summary'>summary</a></span>(<span class='no'>lm2a</span>)</div><div class='output co'>#&gt; 
#&gt; Call:
#&gt; lm(formula = V ~ -1 + c1:s1, data = xdata$SEL)
#&gt; 
#&gt; Residuals:
#&gt;     Min      1Q  Median      3Q     Max 
#&gt; -3.9728 -0.6657 -0.0007  0.6792  3.9280 
#&gt; 
#&gt; Coefficients:
#&gt;       Estimate Std. Error t value Pr(&gt;|t|)    
#&gt; c1:s1  1.00548    0.00985   102.1   &lt;2e-16 ***
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; 
#&gt; Residual standard error: 1.003 on 39999 degrees of freedom
#&gt; Multiple R-squared:  0.2067,	Adjusted R-squared:  0.2067 
#&gt; F-statistic: 1.042e+04 on 1 and 39999 DF,  p-value: &lt; 2.2e-16
#&gt; </div><div class='input'> <span class='no'>etahat</span> <span class='kw'>&lt;-</span> <span class='no'>lm2a</span>$<span class='no'>residuals</span>[<span class='no'>xdata</span>$<span class='no'>SEL</span>$<span class='no'>D</span><span class='kw'>==</span><span class='fl'>1</span>]

 <span class='no'>lm2b</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/lm'>lm</a></span>(<span class='no'>y</span> ~ <span class='no'>c1</span>:<span class='no'>s1</span> + <span class='no'>etahat</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>xdata</span>$<span class='no'>OUT</span>)
 <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/summary'>summary</a></span>(<span class='no'>lm2b</span>)</div><div class='output co'>#&gt; 
#&gt; Call:
#&gt; lm(formula = y ~ c1:s1 + etahat, data = xdata$OUT)
#&gt; 
#&gt; Residuals:
#&gt;     Min      1Q  Median      3Q     Max 
#&gt; -3.5938 -0.6990  0.0384  0.7078  2.9276 
#&gt; 
#&gt; Coefficients:
#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    
#&gt; (Intercept)  1.00160    0.05774   17.35   &lt;2e-16 ***
#&gt; etahat       0.98683    0.03025   32.63   &lt;2e-16 ***
#&gt; c1:s1        1.02606    0.03898   26.32   &lt;2e-16 ***
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; 
#&gt; Residual standard error: 1.008 on 1997 degrees of freedom
#&gt; Multiple R-squared:  0.4225,	Adjusted R-squared:  0.4219 
#&gt; F-statistic: 730.4 on 2 and 1997 DF,  p-value: &lt; 2.2e-16
#&gt; </div><div class='input'>

<span class='co'>## 3. Correction for sorting bias when match valuations V are unobserved</span>

<span class='co'>## 3-a. Run Gibbs sampler (when SEL is given)</span>
 <span class='no'>fit2</span> <span class='kw'>&lt;-</span> <span class='fu'>stabit2</span>(<span class='kw'>OUT</span> <span class='kw'>=</span> <span class='no'>xdata</span>$<span class='no'>OUT</span>,
           <span class='kw'>SEL</span> <span class='kw'>=</span> <span class='no'>xdata</span>$<span class='no'>SEL</span>,
           <span class='kw'>outcome</span> <span class='kw'>=</span> <span class='no'>y</span> ~ <span class='no'>c1</span>:<span class='no'>s1</span>,
           <span class='kw'>selection</span> <span class='kw'>=</span> ~ -<span class='fl'>1</span> + <span class='no'>c1</span>:<span class='no'>s1</span>,
           <span class='kw'>niter</span><span class='kw'>=</span><span class='fl'>1000</span>
 )</div><div class='output co'>#&gt; Drawing 1000 MCMC samples...</div><div class='input'>
<span class='co'>## 3-b. Alternatively: Run Gibbs sampler (when SEL is not given)</span>
 <span class='no'>fit2</span> <span class='kw'>&lt;-</span> <span class='fu'>stabit2</span>(<span class='kw'>OUT</span> <span class='kw'>=</span> <span class='no'>xdata</span>$<span class='no'>OUT</span>,
           <span class='kw'>colleges</span> <span class='kw'>=</span> <span class='st'>"c1"</span>,
           <span class='kw'>students</span> <span class='kw'>=</span> <span class='st'>"s1"</span>,
           <span class='kw'>outcome</span> <span class='kw'>=</span> <span class='no'>y</span> ~ <span class='no'>c1</span>:<span class='no'>s1</span>,
           <span class='kw'>selection</span> <span class='kw'>=</span> ~ -<span class='fl'>1</span> + <span class='no'>c1</span>:<span class='no'>s1</span>,
           <span class='kw'>niter</span><span class='kw'>=</span><span class='fl'>1000</span>
 )</div><div class='output co'>#&gt; Drawing 1000 MCMC samples...</div><div class='input'>

<span class='co'>## 4. Implemented methods</span>

<span class='co'>## 4-a. Get coefficients</span>
 <span class='no'>fit2</span></div><div class='output co'>#&gt; Call:
#&gt; stabit2.default(OUT = xdata$OUT, colleges = "c1", students = "s1", 
#&gt;     outcome = y ~ c1:s1, selection = ~-1 + c1:s1, niter = 1000)
#&gt; 
#&gt; Coefficients:
#&gt; o.(Intercept)       o.c1:s1       o.kappa       s.c1:s1 
#&gt;     0.9946804     1.0348062     0.9944402     1.0207619 </div><div class='input'>
<span class='co'>## 4-b. Coefficient table</span>
 <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/summary'>summary</a></span>(<span class='no'>fit2</span>)</div><div class='output co'>#&gt; 
#&gt; Coefficients for multi-index sample selection model.
#&gt; Method: Sorensen (2007), two-sided matching market
#&gt; 
#&gt; Call:
#&gt; stabit2.default(OUT = xdata$OUT, colleges = "c1", students = "s1", 
#&gt;     outcome = y ~ c1:s1, selection = ~-1 + c1:s1, niter = 1000)
#&gt; 
#&gt; Selection equation:
#&gt;       Estimate   StdErr t.value   p.value    
#&gt; c1:s1 1.020762 0.096168  10.614 &lt; 2.2e-16 ***
#&gt; 
#&gt; Outcome equation:
#&gt;             Estimate   StdErr t.value   p.value    
#&gt; (Intercept) 0.994680 0.345121  2.8821  0.003992 ** 
#&gt; c1:s1       1.034806 0.075968 13.6217 &lt; 2.2e-16 ***
#&gt; kappa       0.994440 0.198319  5.0143 5.792e-07 ***
#&gt; ---
#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</div><div class='input'>
<span class='co'>## 4-c. Get marginal effects</span>
 <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/summary'>summary</a></span>(<span class='no'>fit2</span>, <span class='kw'>mfx</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; 
#&gt; Marginal effects for multi-index sample selection model.
#&gt; Method: Sorensen (2007), two-sided matching market
#&gt; 
#&gt; Call:
#&gt; stabit2.default(OUT = xdata$OUT, colleges = "c1", students = "s1", 
#&gt;     outcome = y ~ c1:s1, selection = ~-1 + c1:s1, niter = 1000)
#&gt; 
#&gt; Selection equation:
#&gt;       Estimate   StdErr t.value   p.value    
#&gt; c1:s1 0.287952 0.027129  10.614 &lt; 2.2e-16 ***
#&gt; 
#&gt; Outcome equation:
#&gt;             Estimate   StdErr t.value   p.value    
#&gt; (Intercept) 0.994680 0.345121  2.8821  0.003992 ** 
#&gt; c1:s1       1.034806 0.075968 13.6217 &lt; 2.2e-16 ***
#&gt; kappa       0.994440 0.198319  5.0143 5.792e-07 ***
#&gt; ---
#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</div><div class='input'>
<span class='co'>## 4-d. Also try the following functions</span>
 <span class='co'>#coef(fit2)</span>
 <span class='co'>#fitted(fit2)</span>
 <span class='co'>#residuals(fit2)</span>
 <span class='co'>#predict(fit2, newdata=NULL)</span>


<span class='co'>## 5. Plot MCMC draws for coefficients</span>
 <span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>fit2</span>)</div><div class='img'><img src='stabit2-1.png' alt='' width='700' height='433' /></div><div class='img'><img src='stabit2-2.png' alt='' width='700' height='433' /></div><div class='input'>##}
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Thilo Klein</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Thilo Klein.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

